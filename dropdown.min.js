angular.module("ya.dropdown",[]).directive("yaDropdown",["$document","$animate","$timeout","$parse",function(a,b,c,d){var e=27;return{restrict:"C",require:"^yaDropdown",controller:["$scope",function(f){function g(){c(function(){a.on("click",j).on("keydown",k),l.dropdownContentElement.on("click",i),f.$on("$destroy",h)})}function h(){a.off("click",j).off("keydown",k),l.dropdownContentElement.off("click",i)}function i(){return!1}function j(){l.isOpen=!1,f.$apply()}function k(a){a.keyCode===e&&(l.isOpen=!1,f.$apply())}var l=this;l.dropdownElement=null,l.dropdownContentElement=null,l.isOpen=!1;var m,n=angular.noop;l.init=function(a,b){l.dropdownElement=a,b&&(m=d(b),n=m.assign,f.$watch(function(){return!!m(f)},function(a){l.isOpen=a}))},l.toggle=function(){l.isOpen=!l.isOpen},f.$watch(function(){return l.isOpen},function(a){b[a?"addClass":"removeClass"](l.dropdownElement,"ya-dropdown-open"),a?g():h(),n(f,a)})}],link:function(a,b,c,d){d.init(b,c.isOpen)}}}]).directive("yaDropdownToggle",function(){return{restrict:"C",require:"^yaDropdown",link:function(a,b,c,d){function e(b){b.preventDefault(),d.toggle(),a.$apply()}b.on("click",e),a.$on("$destroy",function(){b.off("click",e)})}}}).directive("yaDropdownContent",function(){return{restrict:"C",require:"^yaDropdown",link:function(a,b,c,d){d.dropdownContentElement=b}}});